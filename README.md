# Лабораторна робота № 5: Розробка серверної частини вебсайту (Back-end)

## Учасники

Для виконання лабораторної роботи було здійснено розподіл на наступних учасників:

| Учасник | Ім'я та прізвище |
| :--- | :--- |
| 1 | Чернега Сергій |
| 2 | Гевко Андрій |
| 3 | Ремінський Максим |

---

## УЧАСНИК 1: Налаштування проєкту та бази даних

| Завдання | Команда Git |
| :--- | :--- |
| Створити структуру проєкту, включаючи директорії `public`, `src/Config`, `src/Router`, `src/Controller`, `src/Model`, `sql` | - |
| Описати схему БД (таблиці `countries` та `cities`) у файлі `sql/schema.sql` | - |
| Наповнити БД даними, додавши у файл `sql/seed.sql` INSERT-запити для 2-3 країн | - |
| Створити файл конфігурації `src/Config/db.php` для налаштування з'єднання з БД | - |
| Зробити коміт | `git commit -m "Створено структуру проєкту та скрипти бази даних"` |
| Відправити гілку | `git push origin feature/backend-setup` |

---

## УЧАСНИК 2: Реалізація роутингу та контролера

| Завдання | Команда Git |
| :--- | :--- |
| Оновити main перед роботою | `git pull origin main` |
| Створити гілку | `git checkout -b feature/routing-controller` |
| Створити точку входу (`public/index.php`), підключивши файли та налаштувавши обробку запитів | - |
| Реалізувати роутер (`src/Router/Router.php`), що обробляє GET-запити та викликає відповідні методи контролера | - |
| Створити контролер (`src/Controller/CountryController.php`) з методами `list()` та `show($alias)`, які повертають статичні дані | - |
| Зробити коміт | `git commit -m "Реалізовано роутер та контролер країн"` |
| Відправити гілку | `git push origin feature/routing-controller` |

---

## УЧАСНИК 3: Реалізація моделі та інтеграція

| Завдання | Команда Git |
| :--- | :--- |
| Оновити main перед роботою | `git pull origin main` |
| Створити гілку | `git checkout -b feature/model-integration` |
| Реалізувати репозиторій (`src/Model/CountryRepository.php`) для виконання SQL-запитів до БД | - |
| Інтегрувати репозиторій з `CountryController.php` для отримання даних з БД | - |
| Підключити до Front-end, замінивши в `script.js` URL API на нові ендпоїнти локального сервера | - |
| Зробити коміт | `git commit -m "Реалізовано репозиторій та інтегровано з контролером"` |
| Відправити гілку | `git push origin feature/model-integration` |

---

## Технічні вимоги

### API endpoints (згідно `ARCHITECTURE.md`):
- `GET /mycountries/v1.1/getcountrieslist`
- `GET /mycountries/v1.1/getcountry/{alias}`
- `GET /mycountries/v1.1/getcity/{alias}` (опційно)

### Формат даних:
- Усі відповіді сервера повинні бути у форматі `JSON`.
- Структура `JSON` має бути сумісною з реалізацією front-end частини.

### База даних:
- Інформація про країни зберігається в реляційній базі даних (MySQL або аналог).
- Структура таблиць описана у файлі `ARCHITECTURE.md`.

---

## Контрольні питання

1. Формати даних JSON та XML.
2. Принцип дії НТТР-сервера (Nginx, Apache).
3. Основні поняття реляційних баз даних (поле, ключ, відношення та ін.).
4. Архітектурний шаблон MVC.
5. Засоби РНР для роботи з БД.

---

## Примітки:

1. Перед початком роботи кожен учасник створює власну гілку з `main`.
2. Після завершення завдання створюється **Pull Request** у гілку `main`.
3. Веб-сервер (Apache/Nginx) має бути налаштований так, щоб `DocumentRoot` вказував на папку `public`.
4. Необхідно забезпечити, щоб `mod_rewrite` (для Apache) був увімкнений для коректної роботи роутингу.
